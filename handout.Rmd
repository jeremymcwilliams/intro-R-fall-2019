---
title: "Intro to R and Data Visualization Workshop Handout"
output:
  html_document:
    df_print: paged
  html_notebook: default
  pdf_document: default
---

# Intro to R & Data Visualization workshop

### Watzek Library Digital Initiatives
### October 30th, 2019

###### Much of the content has been borrowed from Harvard University, so thank you Harvard.
###### https://tutorials.iq.harvard.edu/R/Rintro/Rintro.html

### Goals of this workshop:

* Gain some familiarity with RStudio Server
* Write some basic R code
* Work with a data set
* Create some basic plots


### Basic R code

R code can be run in the console, or as a "code chunk" within this R notebook. Below is a code chunk:

```{r}
2+2
```

You can run the code chunk by clicking the green "play" button. Throughout this workshop, there will be a mix of code chunks pre-populated with code, and empty code chunks. The empty code chunks give you an opportunity to write code, run it, and see the output. Each of the empty chunks are preceded with "YOUR TURN:".

#### Assigning variables

Creating variables in R isn't so bad. Most scripting languages use the "=" sign, but R uses "<-". So below, I'm creating a variable x, and setting it equal to 10. Afterward, I entered "x", which should output the value of x:

```{r}
x<-10

x
```


YOUR TURN:
Now try creating a variable "y", set it equal to 7+9, and then print it out:
```{r}


```

Like most languages, R has functions that help you quickly execute common tasks. Functions typically take the form of:

functionName(argument1, argument2, etc....)

For example, the function sqrt(number) takes the square root of a number:

```{r}
sqrt(9)
```

YOUR TURN:
In the chunk below, create a variable 'z', set it equal to the sqare root of 90, and print it out:
```{r}


```


### Working with a Data Set

#### Packages and Libraries

Before working with data, let's quickly talk about packages and libraries in R. While some functions are built in with R (e.g. sqrt), others require users to install packages. A **package** is just a collection of functions, while a **library** is the location of where that package lives.  


In order to load a csv file of data, we want to use the function read_csv, though this is not part of R's core functions. If we try running the function, it will fail. 

The **read_csv** function is part of the library "readr". So first I would need to install the package using this command (we've already installed it on this server, so we won't actually run the command):

install.packages("readr")

Now to use the functions in readr, including read_csv, we need to load the readr library. Run the following code:
```{r}
library(readr)
```

```{r}
myData<-read_csv("babyNames.csv")
```


Let's now load a csv file. Attaching in your workspace is a file named "babyNames.csv". This file contains a cleaned up version of annual US baby name data from the US Government (https://catalog.data.gov/dataset/baby-names-from-social-security-card-applications-national-level-data). 
Enter this command in the code block below:
baby.names<-read_csv("babyNames.csv");

```{r}
baby.names<-read_csv("babyNames.csv")
```

The variable "baby.names" now contains the full csv file in "tibble" format. A "tibble" is a type of dataset format used frequently in R, particularly with filtering, manipulating, and plotting data. In the code chunk below, enter and run "baby.names" to see the basic structure of the tibble:

YOUR TURN:
```{r}

```

### Popularity of your name

Often with datasets you might just be interested in particular subsets of data. In the case of baby.names, say were just interested in looking at a couple names. To do so, we'll use the "filter" function, which is part of the "dplyr" package. The "dpylr" package is already installed on the system, but we'll still need to make the library available:

```{r}
library(dplyr)
```

The filter function takes a couple arguements: the data itself, and also the rules you want to filter. For example, say I only am interested in the data for which the Name is Mary. In the chunk below, I'm going to make it so:

```{r}
mary<-filter(baby.names, Name=="Mary")

mary

```

Looking at the data, now I'm kind of interested in just the Marys who are boys (who knew?):

```{r}
boyMarys<-filter(baby.names, (Name=="Mary" & Sex=="Boys"))
boyMarys
```

